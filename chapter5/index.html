<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5章 繰り返し処理</title>
</head>
<body>
    <script type="module">
        // 5.1 While文の使い方
        let state = true;

        while(state) {
            // 0〜9の乱数を生成する
            let random = Math.floor( Math.random() * 10 );
            
            // 数値が3になったら繰り返し処理を終了する
            if(random === 3) state = false;

                console.log(random);
        }
    </script>


    <script type="module">
        // 5.2 for文の使い方

        for (  let i = 0;  i < 5;  i++  ) {

            console.log(i);

        }

        // 出力結果
        // 0
        // 1
        // 2
        // 3
        // 4
    </script>


    <script type="module">
        // 5.3 処理を途中でやめるには--break文を使う
        
        for( let i=0; i<5; i++ ) {

            console.log(i);

            if(i === 3) break;

        }

        // 出力結果
        // 0
        // 1
        // 2
        // 3
    </script>
    <script type="module">
        let state = true;

        while(state) {
            let random = Math.floor( Math.random() * 10 );

            if(random === 3) break;

            console.log(random);
        }
    </script>


    <script type="module">
        // 5.3 処理を途中でやめるには--continue文を使う

        for(let i=0; i<10; i++ ) {
            if(i % 2 === 0) continue;

            console.log(i);
        }

        // 出力結果
        // 1
        // 3
        // 5
        // 7
        // 9
    </script>


    <script type="module">
        // 5.4 演習問題--問題1

        /*
        prompt()から攻撃するか逃げるかを数値で毎回入力できること
        敵の体力は10
        攻撃力は0〜9の乱数で生成
        逃げるを選択した場合は「無事に逃げました」のメッセージを出力
        攻撃力の数値を「◯の攻撃！」のように毎回出力する
        「敵の体力は残り◯です」というメッセージを毎回出力する
        敵を倒したら「敵を倒した！」というメッセージを出力
        ゲーム終了時に「ゲーム終了」というメッセージを出力
        ゲームが終了したらプログラムも終了する
        */

        // 敵の体力の初期値
        let enemy = 10;

        while(true){

        // ゲームスタート
        let command = prompt('敵が現れた！（【1】攻撃　【2】逃げる）');

            // 【1】攻撃を選択した場合
            if(command === '1'){

                // 攻撃力を数値を乱数設定
                let attack = Math.floor( Math.random() * 10 );

                // 敵の体力が残っている場合
                if(enemy > 1){

                    alert(attack + 'の攻撃！');
                    enemy = enemy - attack;
                    alert('敵の体力は残り' + enemy + 'です');

                }
                // 敵の体力が0以下の場合
                else
                {
                    alert('敵を倒した！');
                    // ループ脱出
                    break;
                }

            }
            // 【2】逃げるを選択した場合
            else if(command === '2'){
                alert('無事に逃げました');
                // ループ脱出
                break;
            }
            // 入力が適切でない場合
            else{
                alert('「1」か「2」を入力してください');
                continue;
            }
        }
        alert('ゲーム終了');
    </script>
</body>
</html>